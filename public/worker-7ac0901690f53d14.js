(()=>{"use strict";self.addEventListener("push",t=>{let i=t.data?.json(),n=i?.title||"New Notification",e={body:i?.body||"",icon:i?.icon||"/icon-v2-192x192.png",badge:"/icon-v2-192x192.png",data:{url:i?.url||"/"}};t.waitUntil(self.registration.showNotification(n,e))}),self.addEventListener("notificationclick",t=>{t.notification.close();let i=t.notification.data?.url||"/";t.waitUntil(self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(t=>{for(let n=0;n<t.length;n++){let e=t[n];if(e.url===i&&"focus"in e)return e.focus()}if(self.clients.openWindow)return self.clients.openWindow(i)}))})})();